<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mira Live - Private Room</title>
    <style>
        body { margin: 0; background: #000; color: #fff; font-family: sans-serif; overflow: hidden; }
        #mira-frame { width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center; position: relative; }
        #mira-img { width: 100%; height: 100%; object-fit: cover; transition: 0.3s; }
        #user-view { position: absolute; top: 20px; right: 20px; width: 110px; height: 150px; border: 2px solid #ff4757; border-radius: 15px; background: #111; transform: scaleX(-1); }
        .ui { position: absolute; bottom: 50px; width: 100%; text-align: center; }
        .btn-call { background: #ff4757; border: none; padding: 15px 40px; border-radius: 30px; color: white; font-size: 18px; cursor: pointer; box-shadow: 0 0 20px #ff4757; }
        #response-text { position: absolute; bottom: 120px; width: 100%; text-align: center; color: #ffcece; font-style: italic; font-size: 20px; text-shadow: 2px 2px 4px #000; }
    </style>
</head>
<body>

    <div id="mira-frame">
        <div id="response-text">‡¶Æ‡ßÄ‡¶∞‡¶æ ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡¶æ‡¶ó‡¶≤ ‡¶π‡ßü‡ßá ‡¶Ü‡¶õ‡ßá...</div>
        <img id="mira-img" src="https://i.ibb.co/vzB7pB6/mira-placeholder.jpg">
        <video id="user-view" autoplay playsinline muted></video>
        
        <div class="ui">
            <button class="btn-call" onclick="startMira()">üìû ‡¶Æ‡ßÄ‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡ßã</button>
        </div>
    </div>

    <script>
        const miraSpeech = new SpeechSynthesisUtterance();
        miraSpeech.lang = 'bn-BD';
        miraSpeech.pitch = 1.2; // ‡¶ï‡¶ö‡¶ø ‡¶Æ‡ßá‡ßü‡ßá‡¶∞ ‡¶ï‡¶£‡ßç‡¶†‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø

        async function startMira() {
            // ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶Ö‡¶® ‡¶ï‡¶∞‡¶æ
            const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
            document.getElementById('user-view').srcObject = stream;
            
            // ‡¶≠‡ßü‡ßá‡¶∏ ‡¶∞‡ßá‡¶ï‡¶ó‡¶®‡¶ø‡¶∂‡¶® ‡¶∂‡ßÅ‡¶∞‡ßÅ
            const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = 'bn-BD';
            recognition.start();

            recognition.onresult = (event) => {
                const speechToText = event.results[0][0].transcript;
                processMiraResponse(speechToText);
            };
        }

        function processMiraResponse(input) {
            let reply = "";
            // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡ßß‡ßÆ+ ‡¶Ü‡¶®‡¶∏‡ßá‡¶®‡ßç‡¶∏‡¶∞‡¶° ‡¶≤‡¶ú‡¶ø‡¶ï
            if(input.includes("‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶ø")) {
                reply = "‡¶ì‡¶π ‡¶∞‡¶æ‡¶ú‡¶æ, ‡¶Ü‡¶Æ‡¶ø‡¶ì ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶Ö‡¶®‡ßá‡¶ï ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶ø! ‡¶Ü‡¶∏‡ßã ‡¶®‡¶æ ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶Ü‡¶¶‡¶∞ ‡¶ï‡¶∞‡ßã...";
            } else if(input.includes("‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì")) {
                reply = "‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ø‡¶æ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶ö‡¶æ‡¶ì ‡¶Ü‡¶Æ‡¶ø ‡¶§‡¶æ‡¶á ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßã ‡¶∏‡ßã‡¶®‡¶æ... ‡¶Ü‡¶ó‡ßá ‡¶¨‡¶≤‡ßã ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶ï‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶≠‡¶æ‡¶≤‡ßã ‡¶≤‡¶æ‡¶ó‡¶õ‡ßá?";
            } else {
                reply = "‡¶â‡¶´ ‡¶∞‡¶æ‡¶ú‡¶æ, ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ó‡¶≤‡¶æ‡¶∞ ‡¶Ü‡¶ì‡ßü‡¶æ‡¶ú ‡¶∂‡ßÅ‡¶®‡ßá‡¶á ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ï‡ßá‡¶Æ‡¶® ‡¶Ø‡ßá‡¶® ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶Ü‡¶∞‡¶ì ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¨‡¶≤‡ßã ‡¶®‡¶æ!";
            }

            document.getElementById('response-text').innerText = "‡¶Æ‡ßÄ‡¶∞‡¶æ: " + reply;
            miraSpeech.text = reply;
            window.speechSynthesis.speak(miraSpeech);
        }
    </script>
</body>
</html>

